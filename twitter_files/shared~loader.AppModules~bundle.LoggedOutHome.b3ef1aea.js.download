"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.AppModules~bundle.LoggedOutHome"],{907604:(e,t,n)=>{n.d(t,{Z:()=>s});n(906886);var o=n(202784),i=n(107267),r=n(354987),a=n(554882),c=n(567304);function l(e){return!["/i/flow/login"].includes(e)}const s=(0,a.Z)((function(e={hideCookieBannerPicker:!1}){const t=function(){const e=(0,i.TH)(),[t,n]=o.useState((()=>l(e.pathname)));return o.useEffect((()=>{n(l(e.pathname))}),[n,e]),t}();return!e.hideCookieBannerPicker&&t?o.createElement(r.Z,null,o.createElement(c.Z,null)):null}))},567304:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(202784),i=n(401477),r=n(539466),a=n(348501),c=(n(906886),n(325686)),l=n(436934),s=n(854044),u=n(973186),d=n(229496),m=n(645184),p=n.n(m),f=n(773036),b=n(460673),w=n(544337);const g=p().d8817e36,h=p().b9288ee6,k=p().i1390ec2,C={page:"cookie_compliance_banner"};function E(){const e=o.createElement(p().I18NFormatMessage,{$i18n:"e4af7661"},o.createElement(l.ZP,{color:"buttonWhite",link:"https://help.twitter.com/rules-and-policies/twitter-cookies",withUnderline:!0},p().ga3121d5));return o.createElement(y,{body:e,title:k})}function x(e){const t=o.createElement(p().I18NFormatMessage,{$i18n:"a268632b"},o.createElement(l.ZP,{accessibilityRole:"button",color:"buttonWhite",onClick:e.onExpand,withUnderline:!0},p().g482c949));return o.createElement(y,{body:t,title:k})}function y(e){return o.createElement(c.Z,{style:Z.cookieComplianceMessageWrap},o.createElement(l.ZP,{color:"buttonWhite",size:"headline2",weight:"medium"},e.title),o.createElement(l.ZP,{color:"buttonWhite",size:"subtext2",style:Z.cookieComplianceExpandedDetails},e.body))}const B=o.forwardRef((function(e,t){const n=(0,b.z)(),{expand:i,isExpanded:r}=function(){const[e,t]=o.useState(!1),n=(0,b.z)();return{isExpanded:e,expand:()=>{n.scribe({...C,action:"click",element:"expand_message"}),t(!0)}}}(),{acceptAllCookies:l,isBannerOpen:m,refuseNonEssentialCookies:p}=function(){const e=(0,b.z)(),{featureSwitches:t}=o.useContext(a.rC),[n,i]=o.useState((()=>w.iB(t)&&!f.ZP.getTwitterAppVersion()));return{isBannerOpen:n,acceptAllCookies(){e.scribe({...C,action:"click",element:"accept_all"}),w.jk(t),i(!1)},refuseNonEssentialCookies(){e.scribe({...C,action:"click",element:"refuse_non_essential"}),w.c$(t),i(!1)}}}();return o.useEffect((()=>{m&&n.scribe({...C,action:"impression"})}),[n,m]),m?o.createElement(s.ZP,null,(({windowWidth:e})=>{const n=e<u.default.theme.breakpoints.xLarge;return o.createElement(c.Z,{ref:t,style:[Z.root,n&&Z.rootNarrow]},r?o.createElement(E,null):o.createElement(x,{onExpand:i}),o.createElement(c.Z,{style:[Z.buttonContainer,n&&Z.buttonContainerNarrow]},o.createElement(d.ZP,{dominantColor:"alwaysBaseGray1100",onPress:l,size:"medium",style:[Z.ctaButton,n&&Z.ctaButtonNarrow],type:u.default.isDarkMode()?"onMediaDominantColorFilled":"onMediaWhiteFilled"},g),o.createElement(d.ZP,{dominantColor:"alwaysBaseGray1100",onPress:p,size:"medium",style:[Z.ctaButton,n&&Z.ctaButtonNarrow],type:u.default.isDarkMode()?"onMediaDominantColorFilled":"onMediaWhiteFilled"},h)))})):null})),Z=u.default.create((e=>({root:{alignItems:"center",boxShadow:e.boxShadows.xSmall,flexDirection:"row",width:"100%",justifyContent:"space-evenly",paddingVertical:e.componentDimensions.gutterVertical,paddingHorizontal:e.componentDimensions.gutterHorizontal,backgroundColor:e.colors.buttonBlack},rootNarrow:{flexDirection:"column",paddingVertical:e.componentDimensions.gutterVertical,paddingTop:e.spaces.space20,backgroundColor:e.colors.buttonBlack},buttonContainer:{flexDirection:"column",marginVertical:e.spaces.space16,marginStart:e.spaces.space20},buttonContainerNarrow:{width:"100%",maxWidth:550,marginStart:0,flexDirection:"column",flexWrap:"wrap"},ctaButton:{height:e.spaces.space40,marginBottom:e.spaces.space8,width:420,flexGrow:0,flexShrink:0},ctaButtonNarrow:{marginStart:0,width:"100%"},cookieComplianceMessageWrap:{flex:1,maxWidth:640},cookieComplianceExpandedDetails:{marginTop:e.spaces.space8,marginBottom:e.spaces.space8},background:{backgroundColor:e.colors.buttonBlack}})));function _(e,t=100){return function(e,t=100){const n=o.useMemo((()=>(0,r.Z)((t=>{if(!e)return;if(!t)return void e(null);const n=t.getBoundingClientRect();n&&e(n)}),t)),[e,t]);return o.useCallback((t=>{const o=t;if("function"!=typeof e)return;const r=n.bind(null,o);return r(),window.addEventListener("resize",r),o&&i.Z.observe(o,r),()=>{window.removeEventListener("resize",r),i.Z.unobserveAll(o),n.cancel()}}),[e,n])}(o.useMemo((()=>"function"==typeof e?t=>{e(t?t.height:null)}:void 0),[e]))}function v(e){const{featureSwitches:t}=o.useContext(a.rC),n=_(e.onHeightChange);return t.isTrue("responsive_web_cookie_compliance_banner_enabled")?o.createElement(B,{ref:n}):null}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AppModules~bundle.LoggedOutHome.b3ef1aea.js.map